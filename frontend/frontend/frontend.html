<!DOCTYPE html>
<html>
<head>
  <title>CryptoVault</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
</head>
<body>
  <h1>CryptoVault â€“ BNB Testnet</h1>

  <button onclick="connect()">Connect Wallet</button>

  <h3>Deposit</h3>
  <input id="amount" type="number" placeholder="Amount in BNB" />
  <input id="duration" type="number" placeholder="Duration in seconds" />
  <button onclick="deposit()">Deposit</button>

  <h3>Payout</h3>
  <button onclick="withdrawPayout()">Withdraw Payout</button>

  <h3>Early Withdraw</h3>
  <button onclick="earlyWithdraw()">Withdraw Early (10% Penalty)</button>

  <script>
    let provider, signer, contract;
    const contractAddress = "PASTE_YOUR_CONTRACT_ADDRESS_HERE";

    async function connect() {
      provider = new ethers.providers.Web3Provider(window.ethereum);
      await provider.send("eth_requestAccounts", []);
      signer = provider.getSigner();
      const abi = await fetch('./abi.json').then(res => res.json());
      contract = new ethers.Contract(contractAddress, abi, signer);
      alert("Wallet connected");
    }

    async function deposit() {
      const amount = document.getElementById("amount").value;
      const duration = document.getElementById("duration").value;
      const tx = await contract.deposit(duration, { value: ethers.utils.parseEther(amount) });
      await tx.wait();
      alert("Deposit successful");
    }

    async function withdrawPayout() {
      const tx = await contract.withdrawPayout();
      await tx.wait();
      alert("Payout withdrawn");
    }

    async function earlyWithdraw() {
      const tx = await contract.earlyWithdraw();
      await tx.wait();
      alert("Early withdraw complete");
    }
  </script>
</body>
</html>
